

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RedDeOficio - Publicar.</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="styles/publicacion_style.css">
    <link rel="stylesheet" href="styles/crear_publicacion.css">
</head>
<body>
    
    <header class="sidebar">
        <div class="logo">
           <a href="index.html"><span class="azul">RedDe</span><span class="naranja">Oficios</span></a>
        </div>
         <div class="auth-buttons">
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#loginModal">
              Ingresar
            </button>
            <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#registroModal">
              Registrarse
            </button>
        </div>
        
        <div id="welcomeMessage" class="welcome-message" style="display:none;">
          <div class="mb-2">Bienvenido, <span id="username"></span></div>
            <button id="btnSalir" class="btn btn-danger btn-sm">
                <i class="bi bi-box-arrow-right"></i> Salir
            </button>
        </div>

        <nav class="navigation">
            <ul>
                <li><a href="index.html" class="btn nav-btn">Inicio</a></li>
                <li><a href="#" class="btn nav-btn">Servicios</a></li>
                <li><a href="#" class="btn nav-btn">Destacados</a></li>
                <li><a href="#" class="btn nav-btn">Soporte</a></li>
            </ul>
        </nav>
    </header>

    <section id="cuerpo-pagina">
        <div class="container mt-5">
        <h2><i class="bi bi-plus-circle"></i> Crear nueva publicación</h2>
        <hr>
        
        <form id="formPublicacion" enctype="multipart/form-data">
          
          <!-- Título -->
          <div class="mb-3">
            <label class="form-label">Título del servicio*</label>
            <input type="text" name="titulo" class="form-control" required maxlength="100">
          </div>

          <!-- Tipo de servicio -->
          <div class="mb-3">
            <label class="form-label">Tipo de servicio*</label>
            <select name="tipo_servicio" class="form-select" required>
              <option value="">Seleccione un tipo</option>
              <option value="Albañil">Albañil</option>
              <option value="Plomero">Plomero</option>
              <option value="Carpintero">Carpintero</option>
              <option value="Cerrajero">Cerrajero</option>
              <option value="Electricista">Electricista</option>
              <option value="Pintor">Pintor</option>
              <option value="Jardinero">Jardinero</option>
              <option value="Limpieza">Limpieza</option>
              <option value="Mudanzas">Mudanzas</option>
              <option value="Gasista">Gasista</option>
              <option value="Techista">Techista</option>
              <option value="Herrería">Herrería</option>
              <option value="Climatización">Climatización</option>
              <option value="Vidriería">Vidriería</option>
              <option value="Tapicería">Tapicería</option>
              <option value="Mecánico">Mecánico</option>
              <option value="Informático">Informático</option>
              <option value="Otro">Otro</option>
            </select>
          </div>

          <!-- Teléfono -->
          <div class="mb-3">
            <label class="form-label">Teléfono de contacto*</label>
            <input type="tel" name="telefono" class="form-control" required maxlength="20" placeholder="Ej: 099123456">
          </div>

          <!-- Ubicación (Departamento) -->
          <div class="mb-3">
            <label class="form-label">Departamento*</label>
            <select name="ubicacion" class="form-select" required>
              <option value="">Seleccione un departamento</option>
              <option value="Montevideo">Montevideo</option>
              <option value="Canelones">Canelones</option>
              <option value="Maldonado">Maldonado</option>
              <option value="Rocha">Rocha</option>
              <option value="Treinta y Tres">Treinta y Tres</option>
              <option value="Cerro Largo">Cerro Largo</option>
              <option value="Rivera">Rivera</option>
              <option value="Artigas">Artigas</option>
              <option value="Salto">Salto</option>
              <option value="Paysandú">Paysandú</option>
              <option value="Río Negro">Río Negro</option>
              <option value="Soriano">Soriano</option>
              <option value="Colonia">Colonia</option>
              <option value="San José">San José</option>
              <option value="Flores">Flores</option>
              <option value="Florida">Florida</option>
              <option value="Durazno">Durazno</option>
              <option value="Lavalleja">Lavalleja</option>
              <option value="Tacuarembó">Tacuarembó</option>
            </select>
          </div>

          <!-- Descripción -->
          <div class="mb-3">
            <label class="form-label">Descripción del servicio*</label>
            <textarea name="descripcion" class="form-control" rows="5" required maxlength="1000"></textarea>
          </div>

          <!-- Horario de trabajo -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label class="form-label">Hora de inicio de trabajo*</label>
              <input type="time" name="hora_inicio" class="form-control" required value="09:00">
              <small class="text-muted">Desde qué hora trabajas</small>
            </div>
            <div class="col-md-6">
              <label class="form-label">Hora de fin de trabajo*</label>
              <input type="time" name="hora_fin" class="form-control" required value="18:00">
              <small class="text-muted">Hasta qué hora trabajas</small>
            </div>
          </div>

          <!-- Horas mínimas -->
          <div class="mb-3">
            <label class="form-label">Horas mínimas por trabajo*</label>
            <select name="horas_minimas" class="form-select" required>
              <option value="0.5">30 minutos</option>
              <option value="1" selected>1 hora</option>
              <option value="1.5">1 hora y media</option>
              <option value="2">2 horas</option>
              <option value="3">3 horas</option>
              <option value="4">4 horas</option>
              <option value="8">Jornada completa (8 horas)</option>
            </select>
            <small class="text-muted">Duración mínima que aceptas para un trabajo</small>
          </div>

          <!-- Galería de fotos -->
          <div class="mb-3">
            <label class="form-label">Fotos del servicio</label>
            <input type="file" name="imagenes[]" class="form-control" multiple accept="image/*" id="inputImagenes">
            <small class="text-muted">Puedes subir hasta 5 imágenes. La primera será la imagen principal de la tarjeta.</small>
            
            <!-- Preview de imágenes -->
            <div id="previewImagenes" class="row mt-3"></div>
          </div>

          <!-- Botones -->
          <div class="d-flex gap-2">
            <button id="btnPublicar" type="submit" class="btn btn-primary">
              <i class="bi bi-check-circle"></i> Publicar
            </button>
            <a href="index.html" class="btn btn-secondary" id="btnCancelar">
              <i class="bi bi-x-circle"></i> Cancelar
            </a>
          </div>
        </form>
      </div>

      <!-- Modal de alertas -->
      <div class="modal fade" id="modalAlerta" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header" id="modalAlertaHeader">
              <h5 class="modal-title" id="modalAlertaTitulo">
                <i id="modalAlertaIcono" class="bi bi-info-circle"></i>
                <span id="modalAlertaTituloTexto">Información</span>
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <p id="modalAlertaMensaje"></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="modalAlertaBtnOk">Aceptar</button>
            </div>
          </div>
        </div>
      </div>

    </section>

    <!-- Modales de Login y Registro (igual que antes) -->
    <div class="modal fade" id="registroModal" tabindex="-1" aria-labelledby="registroModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="registroModalLabel">Crear cuenta</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-body">
            <form id="formRegistro">
              <div class="mb-3">
                <label for="tipoUsuario" class="form-label">Tipo de usuario*</label>
                <select id="tipoUsuario" class="form-select" required>
                  <option selected disabled value="">Seleccione una opción</option>
                  <option value="1">Cliente</option>
                  <option value="2">Proveedor</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="nombre" class="form-label">Nombre completo*</label>
                <input type="text" class="form-control" id="nombre" required>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Correo electrónico*</label>
                <input type="email" class="form-control" id="email" required>
              </div>
              <div class="mb-3">
                <label for="password" class="form-label">Contraseña*</label>
                <input type="password" class="form-control" id="password" required>
              </div>
              <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirmar contraseña*</label>
                <input type="password" class="form-control" id="confirmPassword" required>
              </div>
              <div class="mb-3">
                <label for="RUT" class="form-label">RUT</label>
                <input type="text" class="form-control" id="RUT">
              </div>
              <button type="submit" class="btn btn-primary w-100">Registrarse</button>
              <div id="estadoRegistro" class="mt-3"></div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="loginModalLabel">Iniciar sesión</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-body">
            <form id="formLogin">
              <div class="mb-3">
                <label for="loginEmail" class="form-label">Correo electrónico</label>
                <input type="email" class="form-control" id="loginEmail" required>
              </div>
              <div class="mb-3">
                <label for="loginPassword" class="form-label">Contraseña</label>
                <input type="password" class="form-control" id="loginPassword" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Ingresar</button>
              <div id="estadoLogin" class="mt-3"></div>
            </form>
          </div>
        </div>
      </div>
    </div>



    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
    <script src="js/crear_publicacion.js"></script>

</body>
</html>